(function(e,t){var n=function(){var t=e._data(document,"events");return t&&t.click&&e.grep(t.click,function(e){return e.namespace==="rails"}).length};n()&&e.error("jquery-ujs has already been loaded!");var r;e.rails=r={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,r){var i=e.Event(n);return t.trigger(i,r),i.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var i,s,o,u,a,f,l,c;if(r.fire(n,"ajax:before")){u=n.data("cross-domain"),a=u===t?null:u,f=n.data("with-credentials")||null,l=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType;if(n.is("form")){i=n.attr("method"),s=n.attr("action"),o=n.serializeArray();var h=n.data("ujs:submit-button");h&&(o.push(h),n.data("ujs:submit-button",null))}else n.is(r.inputChangeSelector)?(i=n.data("method"),s=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(i=n.data("method"),s=r.href(n),o=n.data("params")||null);c={type:i||"GET",data:o,dataType:l,beforeSend:function(e,i){return i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),r.fire(n,"ajax:beforeSend",[e,i])},success:function(e,t,r){n.trigger("ajax:success",[e,t,r])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,r){n.trigger("ajax:error",[e,t,r])},crossDomain:a},f&&(c.xhrFields={withCredentials:f}),s&&(c.url=s);var p=r.ajax(c);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var i=r.href(n),s=n.data("method"),o=n.attr("target"),u=e("meta[name=csrf-token]").attr("content"),a=e("meta[name=csrf-param]").attr("content"),f=e('<form method="post" action="'+i+'"></form>'),l='<input name="_method" value="'+s+'" type="hidden" />';a!==t&&u!==t&&(l+='<input name="'+a+'" value="'+u+'" type="hidden" />'),o&&f.attr("target",o),f.hide().append(l).appendTo("body"),f.submit()},disableFormElements:function(t){t.find(r.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(r.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t=e.data("confirm"),n=!1,i;return t?(r.fire(e,"confirm")&&(n=r.confirm(t),i=r.fire(e,"confirm:complete",[n])),n&&i):!0},blankInputs:function(t,n,r){var i=e(),s,o,u=n||"input,textarea",a=t.find(u);return a.each(function(){s=e(this),o=s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):s.val();if(!o==!r){if(s.is("input[type=radio]")&&a.filter('input[type=radio]:checked[name="'+s.attr("name")+'"]').length)return!0;i=i.add(s)}}),i.length?i:!1},nonBlankInputs:function(e,t){return r.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,r){var i=n.data("events"),s=!0;return i!==t&&i.submit!==t&&e.each(i.submit,function(e,t){if(typeof t.handler=="function")return s=t.handler(r)}),s},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return r.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},r.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||r.CSRFProtection(n)}),e(document).delegate(r.linkDisableSelector,"ajax:complete",function(){r.enableElement(e(this))}),e(document).delegate(r.linkClickSelector,"click.rails",function(n){var i=e(this),s=i.data("method"),o=i.data("params");if(!r.allowAction(i))return r.stopEverything(n);i.is(r.linkDisableSelector)&&r.disableElement(i);if(i.data("remote")!==t){if((n.metaKey||n.ctrlKey)&&(!s||s==="GET")&&!o)return!0;var u=r.handleRemote(i);return u===!1?r.enableElement(i):u.error(function(){r.enableElement(i)}),!1}if(i.data("method"))return r.handleMethod(i),!1}),e(document).delegate(r.inputChangeSelector,"change.rails",function(t){var n=e(this);return r.allowAction(n)?(r.handleRemote(n),!1):r.stopEverything(t)}),e(document).delegate(r.formSubmitSelector,"submit.rails",function(n){var i=e(this),s=i.data("remote")!==t,o=r.blankInputs(i,r.requiredInputSelector),u=r.nonBlankInputs(i,r.fileInputSelector);if(!r.allowAction(i))return r.stopEverything(n);if(o&&i.attr("novalidate")==t&&r.fire(i,"ajax:aborted:required",[o]))return r.stopEverything(n);if(s){if(u){setTimeout(function(){r.disableFormElements(i)},13);var a=r.fire(i,"ajax:aborted:file",[u]);return a||setTimeout(function(){r.enableFormElements(i)},13),a}return!e.support.submitBubbles&&e().jquery<"1.7"&&r.callFormSubmitBindings(i,n)===!1?r.stopEverything(n):(r.handleRemote(i),!1)}setTimeout(function(){r.disableFormElements(i)},13)}),e(document).delegate(r.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!r.allowAction(n))return r.stopEverything(t);var i=n.attr("name"),s=i?{name:i,value:n.val()}:null;n.closest("form").data("ujs:submit-button",s)}),e(document).delegate(r.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&r.disableFormElements(e(this))}),e(document).delegate(r.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&r.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)}))})(jQuery),function(){}.call(this),function(e,t){"use strict";function r(t){e.fn.cycle.debug&&i(t)}function i(){window.console&&console.log&&console.log("[cycle] "+Array.prototype.join.call(arguments," "))}function s(t,n,r){var i=e(t).data("cycle.opts");if(!i)return;var s=!!t.cyclePause;s&&i.paused?i.paused(t,i,n,r):!s&&i.resumed&&i.resumed(t,i,n,r)}function o(n,r,o){function l(t,n,r){if(!t&&n===!0){var s=e(r).data("cycle.opts");if(!s)return i("options not found, can not resume"),!1;r.cycleTimeout&&(clearTimeout(r.cycleTimeout),r.cycleTimeout=0),p(s.elements,s,1,!s.backwards)}}n.cycleStop===t&&(n.cycleStop=0);if(r===t||r===null)r={};if(r.constructor==String){switch(r){case"destroy":case"stop":var u=e(n).data("cycle.opts");if(!u)return!1;return n.cycleStop++,n.cycleTimeout&&clearTimeout(n.cycleTimeout),n.cycleTimeout=0,u.elements&&e(u.elements).stop(),e(n).removeData("cycle.opts"),r=="destroy"&&a(n,u),!1;case"toggle":return n.cyclePause=n.cyclePause===1?0:1,l(n.cyclePause,o,n),s(n),!1;case"pause":return n.cyclePause=1,s(n),!1;case"resume":return n.cyclePause=0,l(!1,o,n),s(n),!1;case"prev":case"next":u=e(n).data("cycle.opts");if(!u)return i('options not found, "prev/next" ignored'),!1;return typeof o=="string"&&(u.oneTimeFx=o),e.fn.cycle[r](u),!1;default:r={fx:r}}return r}if(r.constructor==Number){var f=r;return r=e(n).data("cycle.opts"),r?f<0||f>=r.elements.length?(i("invalid slide index: "+f),!1):(r.nextSlide=f,n.cycleTimeout&&(clearTimeout(n.cycleTimeout),n.cycleTimeout=0),typeof o=="string"&&(r.oneTimeFx=o),p(r.elements,r,1,f>=r.currSlide),!1):(i("options not found, can not advance slide"),!1)}return r}function u(t,n){if(!e.support.opacity&&n.cleartype&&t.style.filter)try{t.style.removeAttribute("filter")}catch(r){}}function a(t,n){n.next&&e(n.next).unbind(n.prevNextEvent),n.prev&&e(n.prev).unbind(n.prevNextEvent),(n.pager||n.pagerAnchorBuilder)&&e.each(n.pagerAnchors||[],function(){this.unbind().remove()}),n.pagerAnchors=null,e(t).unbind("mouseenter.cycle mouseleave.cycle"),n.destroy&&n.destroy(n)}function f(n,r,o,a,f){var d,y=e.extend({},e.fn.cycle.defaults,a||{},e.metadata?n.metadata():e.meta?n.data():{}),b=e.isFunction(n.data)?n.data(y.metaAttr):null;b&&(y=e.extend(y,b)),y.autostop&&(y.countdown=y.autostopCount||o.length);var w=n[0];n.data("cycle.opts",y),y.$cont=n,y.stopCount=w.cycleStop,y.elements=o,y.before=y.before?[y.before]:[],y.after=y.after?[y.after]:[],!e.support.opacity&&y.cleartype&&y.after.push(function(){u(this,y)}),y.continuous&&y.after.push(function(){p(o,y,0,!y.backwards)}),l(y),!e.support.opacity&&y.cleartype&&!y.cleartypeNoBg&&g(r),n.css("position")=="static"&&n.css("position","relative"),y.width&&n.width(y.width),y.height&&y.height!="auto"&&n.height(y.height),y.startingSlide!==t?(y.startingSlide=parseInt(y.startingSlide,10),y.startingSlide>=o.length||y.startSlide<0?y.startingSlide=0:d=!0):y.backwards?y.startingSlide=o.length-1:y.startingSlide=0;if(y.random){y.randomMap=[];for(var E=0;E<o.length;E++)y.randomMap.push(E);y.randomMap.sort(function(e,t){return Math.random()-.5});if(d)for(var S=0;S<o.length;S++)y.startingSlide==y.randomMap[S]&&(y.randomIndex=S);else y.randomIndex=1,y.startingSlide=y.randomMap[1]}else y.startingSlide>=o.length&&(y.startingSlide=0);y.currSlide=y.startingSlide||0;var x=y.startingSlide;r.css({position:"absolute",top:0,left:0}).hide().each(function(t){var n;y.backwards?n=x?t<=x?o.length+(t-x):x-t:o.length-t:n=x?t>=x?o.length-(t-x):x-t:o.length-t,e(this).css("z-index",n)}),e(o[x]).css("opacity",1).show(),u(o[x],y),y.fit&&(y.aspect?r.each(function(){var t=e(this),n=y.aspect===!0?t.width()/t.height():y.aspect;y.width&&t.width()!=y.width&&(t.width(y.width),t.height(y.width/n)),y.height&&t.height()<y.height&&(t.height(y.height),t.width(y.height*n))}):(y.width&&r.width(y.width),y.height&&y.height!="auto"&&r.height(y.height))),y.center&&(!y.fit||y.aspect)&&r.each(function(){var t=e(this);t.css({"margin-left":y.width?(y.width-t.width())/2+"px":0,"margin-top":y.height?(y.height-t.height())/2+"px":0})}),y.center&&!y.fit&&!y.slideResize&&r.each(function(){var t=e(this);t.css({"margin-left":y.width?(y.width-t.width())/2+"px":0,"margin-top":y.height?(y.height-t.height())/2+"px":0})});var T=(y.containerResize||y.containerResizeHeight)&&n.innerHeight()<1;if(T){var N=0,C=0;for(var k=0;k<o.length;k++){var L=e(o[k]),A=L[0],O=L.outerWidth(),M=L.outerHeight();O||(O=A.offsetWidth||A.width||L.attr("width")),M||(M=A.offsetHeight||A.height||L.attr("height")),N=O>N?O:N,C=M>C?M:C}y.containerResize&&N>0&&C>0&&n.css({width:N+"px",height:C+"px"}),y.containerResizeHeight&&C>0&&n.css({height:C+"px"})}var _=!1;y.pause&&n.bind("mouseenter.cycle",function(){_=!0,this.cyclePause++,s(w,!0)}).bind("mouseleave.cycle",function(){_&&this.cyclePause--,s(w,!0)});if(c(y)===!1)return!1;var D=!1;a.requeueAttempts=a.requeueAttempts||0,r.each(function(){var t=e(this);this.cycleH=y.fit&&y.height?y.height:t.height()||this.offsetHeight||this.height||t.attr("height")||0,this.cycleW=y.fit&&y.width?y.width:t.width()||this.offsetWidth||this.width||t.attr("width")||0;if(t.is("img")){var n=this.cycleH===0&&this.cycleW===0&&!this.complete;if(n){if(f.s&&y.requeueOnImageNotLoaded&&++a.requeueAttempts<100)return i(a.requeueAttempts," - img slide not loaded, requeuing slideshow: ",this.src,this.cycleW,this.cycleH),setTimeout(function(){e(f.s,f.c).cycle(a)},y.requeueTimeout),D=!0,!1;i("could not determine size of image: "+this.src,this.cycleW,this.cycleH)}}return!0});if(D)return!1;y.cssBefore=y.cssBefore||{},y.cssAfter=y.cssAfter||{},y.cssFirst=y.cssFirst||{},y.animIn=y.animIn||{},y.animOut=y.animOut||{},r.not(":eq("+x+")").css(y.cssBefore),e(r[x]).css(y.cssFirst);if(y.timeout){y.timeout=parseInt(y.timeout,10),y.speed.constructor==String&&(y.speed=e.fx.speeds[y.speed]||parseInt(y.speed,10)),y.sync||(y.speed=y.speed/2);var P=y.fx=="none"?0:y.fx=="shuffle"?500:250;while(y.timeout-y.speed<P)y.timeout+=y.speed}y.easing&&(y.easeIn=y.easeOut=y.easing),y.speedIn||(y.speedIn=y.speed),y.speedOut||(y.speedOut=y.speed),y.slideCount=o.length,y.currSlide=y.lastSlide=x,y.random?(++y.randomIndex==o.length&&(y.randomIndex=0),y.nextSlide=y.randomMap[y.randomIndex]):y.backwards?y.nextSlide=y.startingSlide===0?o.length-1:y.startingSlide-1:y.nextSlide=y.startingSlide>=o.length-1?0:y.startingSlide+1;if(!y.multiFx){var H=e.fn.cycle.transitions[y.fx];if(e.isFunction(H))H(n,r,y);else if(y.fx!="custom"&&!y.multiFx)return i("unknown transition: "+y.fx,"; slideshow terminating"),!1}var B=r[x];return y.skipInitializationCallbacks||(y.before.length&&y.before[0].apply(B,[B,B,y,!0]),y.after.length&&y.after[0].apply(B,[B,B,y,!0])),y.next&&e(y.next).bind(y.prevNextEvent,function(){return v(y,1)}),y.prev&&e(y.prev).bind(y.prevNextEvent,function(){return v(y,0)}),(y.pager||y.pagerAnchorBuilder)&&m(o,y),h(y,o),y}function l(t){t.original={before:[],after:[]},t.original.cssBefore=e.extend({},t.cssBefore),t.original.cssAfter=e.extend({},t.cssAfter),t.original.animIn=e.extend({},t.animIn),t.original.animOut=e.extend({},t.animOut),e.each(t.before,function(){t.original.before.push(this)}),e.each(t.after,function(){t.original.after.push(this)})}function c(t){var n,s,o=e.fn.cycle.transitions;if(t.fx.indexOf(",")>0){t.multiFx=!0,t.fxs=t.fx.replace(/\s*/g,"").split(",");for(n=0;n<t.fxs.length;n++){var u=t.fxs[n];s=o[u];if(!s||!o.hasOwnProperty(u)||!e.isFunction(s))i("discarding unknown transition: ",u),t.fxs.splice(n,1),n--}if(!t.fxs.length)return i("No valid transitions named; slideshow terminating."),!1}else if(t.fx=="all"){t.multiFx=!0,t.fxs=[];for(var a in o)o.hasOwnProperty(a)&&(s=o[a],o.hasOwnProperty(a)&&e.isFunction(s)&&t.fxs.push(a))}if(t.multiFx&&t.randomizeEffects){var f=Math.floor(Math.random()*20)+30;for(n=0;n<f;n++){var l=Math.floor(Math.random()*t.fxs.length);t.fxs.push(t.fxs.splice(l,1)[0])}r("randomized fx sequence: ",t.fxs)}return!0}function h(t,n){t.addSlide=function(r,i){var s=e(r),o=s[0];t.autostopCount||t.countdown++,n[i?"unshift":"push"](o),t.els&&t.els[i?"unshift":"push"](o),t.slideCount=n.length,t.random&&(t.randomMap.push(t.slideCount-1),t.randomMap.sort(function(e,t){return Math.random()-.5})),s.css("position","absolute"),s[i?"prependTo":"appendTo"](t.$cont),i&&(t.currSlide++,t.nextSlide++),!e.support.opacity&&t.cleartype&&!t.cleartypeNoBg&&g(s),t.fit&&t.width&&s.width(t.width),t.fit&&t.height&&t.height!="auto"&&s.height(t.height),o.cycleH=t.fit&&t.height?t.height:s.height(),o.cycleW=t.fit&&t.width?t.width:s.width(),s.css(t.cssBefore),(t.pager||t.pagerAnchorBuilder)&&e.fn.cycle.createPagerAnchor(n.length-1,o,e(t.pager),n,t),e.isFunction(t.onAddSlide)?t.onAddSlide(s):s.hide()}}function p(n,i,s,o){function m(){var e=0,t=i.timeout;i.timeout&&!i.continuous?(e=d(n[i.currSlide],n[i.nextSlide],i,o),i.fx=="shuffle"&&(e-=i.speedOut)):i.continuous&&u.cyclePause&&(e=10),e>0&&(u.cycleTimeout=setTimeout(function(){p(n,i,0,!i.backwards)},e))}var u=i.$cont[0],a=n[i.currSlide],f=n[i.nextSlide];s&&i.busy&&i.manualTrump&&(r("manualTrump in go(), stopping active transition"),e(n).stop(!0,!0),i.busy=0,clearTimeout(u.cycleTimeout));if(i.busy){r("transition active, ignoring new tx request");return}if(u.cycleStop!=i.stopCount||u.cycleTimeout===0&&!s)return;if(!s&&!u.cyclePause&&!i.bounce&&(i.autostop&&--i.countdown<=0||i.nowrap&&!i.random&&i.nextSlide<i.currSlide)){i.end&&i.end(i);return}var l=!1;if((s||!u.cyclePause)&&i.nextSlide!=i.currSlide){l=!0;var c=i.fx;a.cycleH=a.cycleH||e(a).height(),a.cycleW=a.cycleW||e(a).width(),f.cycleH=f.cycleH||e(f).height(),f.cycleW=f.cycleW||e(f).width(),i.multiFx&&(o&&(i.lastFx===t||++i.lastFx>=i.fxs.length)?i.lastFx=0:!o&&(i.lastFx===t||--i.lastFx<0)&&(i.lastFx=i.fxs.length-1),c=i.fxs[i.lastFx]),i.oneTimeFx&&(c=i.oneTimeFx,i.oneTimeFx=null),e.fn.cycle.resetState(i,c),i.before.length&&e.each(i.before,function(e,t){if(u.cycleStop!=i.stopCount)return;t.apply(f,[a,f,i,o])});var h=function(){i.busy=0,e.each(i.after,function(e,t){if(u.cycleStop!=i.stopCount)return;t.apply(f,[a,f,i,o])}),u.cycleStop||m()};r("tx firing("+c+"); currSlide: "+i.currSlide+"; nextSlide: "+i.nextSlide),i.busy=1,i.fxFn?i.fxFn(a,f,i,h,o,s&&i.fastOnEvent):e.isFunction(e.fn.cycle[i.fx])?e.fn.cycle[i.fx](a,f,i,h,o,s&&i.fastOnEvent):e.fn.cycle.custom(a,f,i,h,o,s&&i.fastOnEvent)}else m();if(l||i.nextSlide==i.currSlide){var v;i.lastSlide=i.currSlide,i.random?(i.currSlide=i.nextSlide,++i.randomIndex==n.length&&(i.randomIndex=0,i.randomMap.sort(function(e,t){return Math.random()-.5})),i.nextSlide=i.randomMap[i.randomIndex],i.nextSlide==i.currSlide&&(i.nextSlide=i.currSlide==i.slideCount-1?0:i.currSlide+1)):i.backwards?(v=i.nextSlide-1<0,v&&i.bounce?(i.backwards=!i.backwards,i.nextSlide=1,i.currSlide=0):(i.nextSlide=v?n.length-1:i.nextSlide-1,i.currSlide=v?0:i.nextSlide+1)):(v=i.nextSlide+1==n.length,v&&i.bounce?(i.backwards=!i.backwards,i.nextSlide=n.length-2,i.currSlide=n.length-1):(i.nextSlide=v?0:i.nextSlide+1,i.currSlide=v?n.length-1:i.nextSlide-1))}l&&i.pager&&i.updateActivePagerLink(i.pager,i.currSlide,i.activePagerClass)}function d(e,t,n,i){if(n.timeoutFn){var s=n.timeoutFn.call(e,e,t,n,i);while(n.fx!="none"&&s-n.speed<250)s+=n.speed;r("calculated timeout: "+s+"; speed: "+n.speed);if(s!==!1)return s}return n.timeout}function v(t,n){var r=n?1:-1,i=t.elements,s=t.$cont[0],o=s.cycleTimeout;o&&(clearTimeout(o),s.cycleTimeout=0);if(t.random&&r<0)t.randomIndex--,--t.randomIndex==-2?t.randomIndex=i.length-2:t.randomIndex==-1&&(t.randomIndex=i.length-1),t.nextSlide=t.randomMap[t.randomIndex];else if(t.random)t.nextSlide=t.randomMap[t.randomIndex];else{t.nextSlide=t.currSlide+r;if(t.nextSlide<0){if(t.nowrap)return!1;t.nextSlide=i.length-1}else if(t.nextSlide>=i.length){if(t.nowrap)return!1;t.nextSlide=0}}var u=t.onPrevNextEvent||t.prevNextClick;return e.isFunction(u)&&u(r>0,t.nextSlide,i[t.nextSlide]),p(i,t,1,n),!1}function m(t,n){var r=e(n.pager);e.each(t,function(i,s){e.fn.cycle.createPagerAnchor(i,s,r,t,n)}),n.updateActivePagerLink(n.pager,n.startingSlide,n.activePagerClass)}function g(t){function n(e){return e=parseInt(e,10).toString(16),e.length<2?"0"+e:e}function i(t){for(;t&&t.nodeName.toLowerCase()!="html";t=t.parentNode){var r=e.css(t,"background-color");if(r&&r.indexOf("rgb")>=0){var i=r.match(/\d+/g);return"#"+n(i[0])+n(i[1])+n(i[2])}if(r&&r!="transparent")return r}return"#ffffff"}r("applying clearType background-color hack"),t.each(function(){e(this).css("background-color",i(this))})}var n="3.0.2";e.expr[":"].paused=function(e){return e.cyclePause},e.fn.cycle=function(t,n){var s={s:this.selector,c:this.context};return this.length===0&&t!="stop"?!e.isReady&&s.s?(i("DOM not ready, queuing slideshow"),e(function(){e(s.s,s.c).cycle(t,n)}),this):(i("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this):this.each(function(){var u=o(this,t,n);if(u===!1)return;u.updateActivePagerLink=u.updateActivePagerLink||e.fn.cycle.updateActivePagerLink,this.cycleTimeout&&clearTimeout(this.cycleTimeout),this.cycleTimeout=this.cyclePause=0,this.cycleStop=0;var a=e(this),l=u.slideExpr?e(u.slideExpr,this):a.children(),c=l.get();if(c.length<2){i("terminating; too few slides: "+c.length);return}var h=f(a,l,c,u,s);if(h===!1)return;var v=h.continuous?10:d(c[h.currSlide],c[h.nextSlide],h,!h.backwards);v&&(v+=h.delay||0,v<10&&(v=10),r("first timeout: "+v),this.cycleTimeout=setTimeout(function(){p(c,h,0,!u.backwards)},v))})},e.fn.cycle.resetState=function(t,n){n=n||t.fx,t.before=[],t.after=[],t.cssBefore=e.extend({},t.original.cssBefore),t.cssAfter=e.extend({},t.original.cssAfter),t.animIn=e.extend({},t.original.animIn),t.animOut=e.extend({},t.original.animOut),t.fxFn=null,e.each(t.original.before,function(){t.before.push(this)}),e.each(t.original.after,function(){t.after.push(this)});var r=e.fn.cycle.transitions[n];e.isFunction(r)&&r(t.$cont,e(t.elements),t)},e.fn.cycle.updateActivePagerLink=function(t,n,r){e(t).each(function(){e(this).children().removeClass(r).eq(n).addClass(r)})},e.fn.cycle.next=function(e){v(e,1)},e.fn.cycle.prev=function(e){v(e,0)},e.fn.cycle.createPagerAnchor=function(t,n,i,o,u){var a;e.isFunction(u.pagerAnchorBuilder)?(a=u.pagerAnchorBuilder(t,n),r("pagerAnchorBuilder("+t+", el) returned: "+a)):a='<a href="#">'+(t+1)+"</a>";if(!a)return;var f=e(a);if(f.parents("body").length===0){var l=[];i.length>1?(i.each(function(){var t=f.clone(!0);e(this).append(t),l.push(t[0])}),f=e(l)):f.appendTo(i)}u.pagerAnchors=u.pagerAnchors||[],u.pagerAnchors.push(f);var c=function(n){n.preventDefault(),u.nextSlide=t;var r=u.$cont[0],i=r.cycleTimeout;i&&(clearTimeout(i),r.cycleTimeout=0);var s=u.onPagerEvent||u.pagerClick;e.isFunction(s)&&s(u.nextSlide,o[u.nextSlide]),p(o,u,1,u.currSlide<t)};/mouseenter|mouseover/i.test(u.pagerEvent)?f.hover(c,function(){}):f.bind(u.pagerEvent,c),!/^click/.test(u.pagerEvent)&&!u.allowPagerClickBubble&&f.bind("click.cycle",function(){return!1});var h=u.$cont[0],d=!1;u.pauseOnPagerHover&&f.hover(function(){d=!0,h.cyclePause++,s(h,!0,!0)},function(){d&&h.cyclePause--,s(h,!0,!0)})},e.fn.cycle.hopsFromLast=function(e,t){var n,r=e.lastSlide,i=e.currSlide;return t?n=i>r?i-r:e.slideCount-r:n=i<r?r-i:r+e.slideCount-i,n},e.fn.cycle.commonReset=function(t,n,r,i,s,o){e(r.elements).not(t).hide(),typeof r.cssBefore.opacity=="undefined"&&(r.cssBefore.opacity=1),r.cssBefore.display="block",r.slideResize&&i!==!1&&n.cycleW>0&&(r.cssBefore.width=n.cycleW),r.slideResize&&s!==!1&&n.cycleH>0&&(r.cssBefore.height=n.cycleH),r.cssAfter=r.cssAfter||{},r.cssAfter.display="none",e(t).css("zIndex",r.slideCount+(o===!0?1:0)),e(n).css("zIndex",r.slideCount+(o===!0?0:1))},e.fn.cycle.custom=function(t,n,r,i,s,o){var u=e(t),a=e(n),f=r.speedIn,l=r.speedOut,c=r.easeIn,h=r.easeOut;a.css(r.cssBefore),o&&(typeof o=="number"?f=l=o:f=l=1,c=h=null);var p=function(){a.animate(r.animIn,f,c,function(){i()})};u.animate(r.animOut,l,h,function(){u.css(r.cssAfter),r.sync||p()}),r.sync&&p()},e.fn.cycle.transitions={fade:function(t,n,r){n.not(":eq("+r.currSlide+")").css("opacity",0),r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r),r.cssBefore.opacity=0}),r.animIn={opacity:1},r.animOut={opacity:0},r.cssBefore={top:0,left:0}}},e.fn.cycle.ver=function(){return n},e.fn.cycle.defaults={activePagerClass:"activeSlide",after:null,allowPagerClickBubble:!1,animIn:null,animOut:null,aspect:!1,autostop:0,autostopCount:0,backwards:!1,before:null,center:null,cleartype:!e.support.opacity,cleartypeNoBg:!1,containerResize:1,containerResizeHeight:0,continuous:0,cssAfter:null,cssBefore:null,delay:0,easeIn:null,easeOut:null,easing:null,end:null,fastOnEvent:0,fit:0,fx:"fade",fxFn:null,height:"auto",manualTrump:!0,metaAttr:"cycle",next:null,nowrap:0,onPagerEvent:null,onPrevNextEvent:null,pager:null,pagerAnchorBuilder:null,pagerEvent:"click.cycle",pause:0,pauseOnPagerHover:0,prev:null,prevNextEvent:"click.cycle",random:0,randomizeEffects:1,requeueOnImageNotLoaded:!0,requeueTimeout:250,rev:0,shuffle:null,skipInitializationCallbacks:!1,slideExpr:null,slideResize:1,speed:1e3,speedIn:null,speedOut:null,startingSlide:t,sync:1,timeout:4e3,timeoutFn:null,updateActivePagerLink:null,width:null}}(jQuery),function(e){"use strict";e.fn.cycle.transitions.none=function(t,n,r){r.fxFn=function(t,n,r,i){e(n).show(),e(t).hide(),i()}},e.fn.cycle.transitions.fadeout=function(t,n,r){n.not(":eq("+r.currSlide+")").css({display:"block",opacity:1}),r.before.push(function(t,n,r,i,s,o){e(t).css("zIndex",r.slideCount+(o!==!0?1:0)),e(n).css("zIndex",r.slideCount+(o!==!0?0:1))}),r.animIn.opacity=1,r.animOut.opacity=0,r.cssBefore.opacity=1,r.cssBefore.display="block",r.cssAfter.zIndex=0},e.fn.cycle.transitions.scrollUp=function(t,n,r){t.css("overflow","hidden"),r.before.push(e.fn.cycle.commonReset);var i=t.height();r.cssBefore.top=i,r.cssBefore.left=0,r.cssFirst.top=0,r.animIn.top=0,r.animOut.top=-i},e.fn.cycle.transitions.scrollDown=function(t,n,r){t.css("overflow","hidden"),r.before.push(e.fn.cycle.commonReset);var i=t.height();r.cssFirst.top=0,r.cssBefore.top=-i,r.cssBefore.left=0,r.animIn.top=0,r.animOut.top=i},e.fn.cycle.transitions.scrollLeft=function(t,n,r){t.css("overflow","hidden"),r.before.push(e.fn.cycle.commonReset);var i=t.width();r.cssFirst.left=0,r.cssBefore.left=i,r.cssBefore.top=0,r.animIn.left=0,r.animOut.left=0-i},e.fn.cycle.transitions.scrollRight=function(t,n,r){t.css("overflow","hidden"),r.before.push(e.fn.cycle.commonReset);var i=t.width();r.cssFirst.left=0,r.cssBefore.left=-i,r.cssBefore.top=0,r.animIn.left=0,r.animOut.left=i},e.fn.cycle.transitions.scrollHorz=function(t,n,r){t.css("overflow","hidden").width(),r.before.push(function(t,n,r,i){r.rev&&(i=!i),e.fn.cycle.commonReset(t,n,r),r.cssBefore.left=i?n.cycleW-1:1-n.cycleW,r.animOut.left=i?-t.cycleW:t.cycleW}),r.cssFirst.left=0,r.cssBefore.top=0,r.animIn.left=0,r.animOut.top=0},e.fn.cycle.transitions.scrollVert=function(t,n,r){t.css("overflow","hidden"),r.before.push(function(t,n,r,i){r.rev&&(i=!i),e.fn.cycle.commonReset(t,n,r),r.cssBefore.top=i?1-n.cycleH:n.cycleH-1,r.animOut.top=i?t.cycleH:-t.cycleH}),r.cssFirst.top=0,r.cssBefore.left=0,r.animIn.top=0,r.animOut.left=0},e.fn.cycle.transitions.slideX=function(t,n,r){r.before.push(function(t,n,r){e(r.elements).not(t).hide(),e.fn.cycle.commonReset(t,n,r,!1,!0),r.animIn.width=n.cycleW}),r.cssBefore.left=0,r.cssBefore.top=0,r.cssBefore.width=0,r.animIn.width="show",r.animOut.width=0},e.fn.cycle.transitions.slideY=function(t,n,r){r.before.push(function(t,n,r){e(r.elements).not(t).hide(),e.fn.cycle.commonReset(t,n,r,!0,!1),r.animIn.height=n.cycleH}),r.cssBefore.left=0,r.cssBefore.top=0,r.cssBefore.height=0,r.animIn.height="show",r.animOut.height=0},e.fn.cycle.transitions.shuffle=function(t,n,r){var i,s=t.css("overflow","visible").width();n.css({left:0,top:0}),r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r,!0,!0,!0)}),r.speedAdjusted||(r.speed=r.speed/2,r.speedAdjusted=!0),r.random=0,r.shuffle=r.shuffle||{left:-s,top:15},r.els=[];for(i=0;i<n.length;i++)r.els.push(n[i]);for(i=0;i<r.currSlide;i++)r.els.push(r.els.shift());r.fxFn=function(t,n,r,i,s){r.rev&&(s=!s);var o=s?e(t):e(n);e(n).css(r.cssBefore);var u=r.slideCount;o.animate(r.shuffle,r.speedIn,r.easeIn,function(){var n=e.fn.cycle.hopsFromLast(r,s);for(var a=0;a<n;a++)s?r.els.push(r.els.shift()):r.els.unshift(r.els.pop());if(s)for(var f=0,l=r.els.length;f<l;f++)e(r.els[f]).css("z-index",l-f+u);else{var c=e(t).css("z-index");o.css("z-index",parseInt(c,10)+1+u)}o.animate({left:0,top:0},r.speedOut,r.easeOut,function(){e(s?this:t).hide(),i&&i()})})},e.extend(r.cssBefore,{display:"block",opacity:1,top:0,left:0})},e.fn.cycle.transitions.turnUp=function(t,n,r){r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r,!0,!1),r.cssBefore.top=n.cycleH,r.animIn.height=n.cycleH,r.animOut.width=n.cycleW}),r.cssFirst.top=0,r.cssBefore.left=0,r.cssBefore.height=0,r.animIn.top=0,r.animOut.height=0},e.fn.cycle.transitions.turnDown=function(t,n,r){r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r,!0,!1),r.animIn.height=n.cycleH,r.animOut.top=t.cycleH}),r.cssFirst.top=0,r.cssBefore.left=0,r.cssBefore.top=0,r.cssBefore.height=0,r.animOut.height=0},e.fn.cycle.transitions.turnLeft=function(t,n,r){r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r,!1,!0),r.cssBefore.left=n.cycleW,r.animIn.width=n.cycleW}),r.cssBefore.top=0,r.cssBefore.width=0,r.animIn.left=0,r.animOut.width=0},e.fn.cycle.transitions.turnRight=function(t,n,r){r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r,!1,!0),r.animIn.width=n.cycleW,r.animOut.left=t.cycleW}),e.extend(r.cssBefore,{top:0,left:0,width:0}),r.animIn.left=0,r.animOut.width=0},e.fn.cycle.transitions.zoom=function(t,n,r){r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r,!1,!1,!0),r.cssBefore.top=n.cycleH/2,r.cssBefore.left=n.cycleW/2,e.extend(r.animIn,{top:0,left:0,width:n.cycleW,height:n.cycleH}),e.extend(r.animOut,{width:0,height:0,top:t.cycleH/2,left:t.cycleW/2})}),r.cssFirst.top=0,r.cssFirst.left=0,r.cssBefore.width=0,r.cssBefore.height=0},e.fn.cycle.transitions.fadeZoom=function(t,n,r){r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r,!1,!1),r.cssBefore.left=n.cycleW/2,r.cssBefore.top=n.cycleH/2,e.extend(r.animIn,{top:0,left:0,width:n.cycleW,height:n.cycleH})}),r.cssBefore.width=0,r.cssBefore.height=0,r.animOut.opacity=0},e.fn.cycle.transitions.blindX=function(t,n,r){var i=t.css("overflow","hidden").width();r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r),r.animIn.width=n.cycleW,r.animOut.left=t.cycleW}),r.cssBefore.left=i,r.cssBefore.top=0,r.animIn.left=0,r.animOut.left=i},e.fn.cycle.transitions.blindY=function(t,n,r){var i=t.css("overflow","hidden").height();r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r),r.animIn.height=n.cycleH,r.animOut.top=t.cycleH}),r.cssBefore.top=i,r.cssBefore.left=0,r.animIn.top=0,r.animOut.top=i},e.fn.cycle.transitions.blindZ=function(t,n,r){var i=t.css("overflow","hidden").height(),s=t.width();r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r),r.animIn.height=n.cycleH,r.animOut.top=t.cycleH}),r.cssBefore.top=i,r.cssBefore.left=s,r.animIn.top=0,r.animIn.left=0,r.animOut.top=i,r.animOut.left=s},e.fn.cycle.transitions.growX=function(t,n,r){r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r,!1,!0),r.cssBefore.left=this.cycleW/2,r.animIn.left=0,r.animIn.width=this.cycleW,r.animOut.left=0}),r.cssBefore.top=0,r.cssBefore.width=0},e.fn.cycle.transitions.growY=function(t,n,r){r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r,!0,!1),r.cssBefore.top=this.cycleH/2,r.animIn.top=0,r.animIn.height=this.cycleH,r.animOut.top=0}),r.cssBefore.height=0,r.cssBefore.left=0},e.fn.cycle.transitions.curtainX=function(t,n,r){r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r,!1,!0,!0),r.cssBefore.left=n.cycleW/2,r.animIn.left=0,r.animIn.width=this.cycleW,r.animOut.left=t.cycleW/2,r.animOut.width=0}),r.cssBefore.top=0,r.cssBefore.width=0},e.fn.cycle.transitions.curtainY=function(t,n,r){r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r,!0,!1,!0),r.cssBefore.top=n.cycleH/2,r.animIn.top=0,r.animIn.height=n.cycleH,r.animOut.top=t.cycleH/2,r.animOut.height=0}),r.cssBefore.height=0,r.cssBefore.left=0},e.fn.cycle.transitions.cover=function(t,n,r){var i=r.direction||"left",s=t.css("overflow","hidden").width(),o=t.height();r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r),r.cssAfter.display="",i=="right"?r.cssBefore.left=-s:i=="up"?r.cssBefore.top=o:i=="down"?r.cssBefore.top=-o:r.cssBefore.left=s}),r.animIn.left=0,r.animIn.top=0,r.cssBefore.top=0,r.cssBefore.left=0},e.fn.cycle.transitions.uncover=function(t,n,r){var i=r.direction||"left",s=t.css("overflow","hidden").width(),o=t.height();r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r,!0,!0,!0),i=="right"?r.animOut.left=s:i=="up"?r.animOut.top=-o:i=="down"?r.animOut.top=o:r.animOut.left=-s}),r.animIn.left=0,r.animIn.top=0,r.cssBefore.top=0,r.cssBefore.left=0},e.fn.cycle.transitions.toss=function(t,n,r){var i=t.css("overflow","visible").width(),s=t.height();r.before.push(function(t,n,r){e.fn.cycle.commonReset(t,n,r,!0,!0,!0),!r.animOut.left&&!r.animOut.top?e.extend(r.animOut,{left:i*2,top:-s/2,opacity:0}):r.animOut.opacity=0}),r.cssBefore.left=0,r.cssBefore.top=0,r.animIn.left=0},e.fn.cycle.transitions.wipe=function(t,n,r){var i=t.css("overflow","hidden").width(),s=t.height();r.cssBefore=r.cssBefore||{};var o;if(r.clip)if(/l2r/.test(r.clip))o="rect(0px 0px "+s+"px 0px)";else if(/r2l/.test(r.clip))o="rect(0px "+i+"px "+s+"px "+i+"px)";else if(/t2b/.test(r.clip))o="rect(0px "+i+"px 0px 0px)";else if(/b2t/.test(r.clip))o="rect("+s+"px "+i+"px "+s+"px 0px)";else if(/zoom/.test(r.clip)){var u=parseInt(s/2,10),a=parseInt(i/2,10);o="rect("+u+"px "+a+"px "+u+"px "+a+"px)"}r.cssBefore.clip=r.cssBefore.clip||o||"rect(0px 0px 0px 0px)";var f=r.cssBefore.clip.match(/(\d+)/g),l=parseInt(f[0],10),c=parseInt(f[1],10),h=parseInt(f[2],10),p=parseInt(f[3],10);r.before.push(function(t,n,r){if(t==n)return;var o=e(t),u=e(n);e.fn.cycle.commonReset(t,n,r,!0,!0,!1),r.cssAfter.display="block";var a=1,f=parseInt(r.speedIn/13,10)-1;(function d(){var e=l?l-parseInt(a*(l/f),10):0,t=p?p-parseInt(a*(p/f),10):0,n=h<s?h+parseInt(a*((s-h)/f||1),10):s,r=c<i?c+parseInt(a*((i-c)/f||1),10):i;u.css({clip:"rect("+e+"px "+r+"px "+n+"px "+t+"px)"}),a++<=f?setTimeout(d,13):o.css("display","none")})()}),e.extend(r.cssBefore,{display:"block",opacity:1,top:0,left:0}),r.animIn={left:0},r.animOut={left:0}}}(jQuery),function(e){function t(t,n){this.carouselRoot=
e(t);var r=this;this._az=!1,this._by=!1,this._cx="",this._dw="",this._ev="",this._fu,this._gt,this._hs,this._ir,this._jq,this._kp=0,this.settings=e.extend({},e.fn.touchCarousel.defaults,n),this._lo=this.carouselRoot.find(".touchcarousel-container"),this._loStyle=this._lo[0].style,this._az1=this._lo.wrap(e('<div class="touchcarousel-wrapper" />')).parent();var i=this._lo.find(".touchcarousel-item");this.items=[],this.numItems=i.length,this._by1,this._cx1=!1,this._dw1=0,this._ev1=0,this._fu1=0,this._gt1=!1,this._hs1=!1,this._ir1=!1;if("ontouchstart"in window)this.hasTouch=!0,this._cx="touchstart.rs",this._dw="touchmove.rs",this._ev="touchend.rs",this._jq1=this.settings.baseTouchFriction;else{this.hasTouch=!1,this._jq1=this.settings.baseMouseFriction;if(this.settings.dragUsingMouse){this._cx="mousedown.rs",this._dw="mousemove.rs",this._ev="mouseup.rs",this._kp1,this._lo1;var s=e.browser;s.msie||s.opera?this._kp1=this._lo1="move":s.mozilla&&(this._kp1="-moz-grab",this._lo1="-moz-grabbing"),this._mn1()}else this._az1.addClass("auto-cursor")}(this.hasTouch||this.settings.useWebkit3d)&&"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix&&(this._lo.css({"-webkit-transform-origin":"0 0","-webkit-transform":"translateZ(0)"}),this._ir1=!0),this._ir1?(this._az2="-webkit-transform",this._by2="translate3d(",this._cx2="px, 0, 0)"):(this._az2="left",this._by2="",this._cx2="px"),this.hasTouch&&(this.settings.directionNavAutoHide=!1),this.settings.directionNav||(this.settings.loopItems?(this._dw2=!0,this._ev2=!0):(this._dw2=!1,this._ev2=!1),this.settings.loopItems=!0);var o,u,a,f,l=0;i.eq(this.numItems-1).addClass("last"),i.each(function(t){u=e(this),o={},o.item=u,o.index=t,o.posX=l,o.width=u.outerWidth(!0)||r.settings.itemFallbackWidth,l+=o.width;if(!this.hasTouch)u.find("a").bind("click.touchcarousel",function(e){if(r._cx1)return e.preventDefault(),!1});else{var n=u.find("a"),i;n.each(function(){i=e(this),i.data("tc-href",i.attr("href")),i.data("tc-target",i.attr("target")),i.attr("href","#"),i.bind("click",function(t){t.preventDefault();if(r._cx1)return!1;var n=e(this).data("tc-href"),i=e(this).data("tc-target");!i||i.toLowerCase()==="_fu2"?window.location.href=n:window.open(n)})})}u.find(".non-draggable").bind(r._cx,function(e){r._cx1=!1,e.stopImmediatePropagation()}),r.items.push(o)}),this._gt2=this._fu=l,this.settings.itemsPerMove>0?this._hs2=this.settings.itemsPerMove:this._hs2=1;if(this.settings.pagingNav){this.settings.snapToItems=!0,this._ir2=!0,this._jq2=Math.ceil(this.numItems/this._hs2),this._kp2=0;if(this.settings.pagingNavControls){this._lo2=e('<div class="tc-paging-container"><div class="tc-paging-centerer"><div class="tc-paging-centerer-inside"></div></div></div>');var c=this._lo2.find(".tc-paging-centerer-inside"),h;for(var p=1;p<=this._jq2;p++)h=e('<a class="tc-paging-item" href="#">'+p+"</a>").data("tc-id",p),p===this._kp2+1&&h.addClass("current"),c.append(h);this._mn2=c.find(".tc-paging-item").click(function(t){t.preventDefault(),r.goTo((e(t.currentTarget).data("tc-id")-1)*r._hs2)}),this._az1.after(this._lo2)}}else this._ir2=!1;this._lo.css({width:l}),this.settings.directionNav&&(this._az1.after("<a href='#' class='arrow-holder left'><span class='arrow-icon left'></span></a> <a href='#' class='arrow-holder right'><span class='arrow-icon right'></span></a>"),this.arrowLeft=this.carouselRoot.find(".arrow-holder.left"),this.arrowRight=this.carouselRoot.find(".arrow-holder.right"),this.arrowLeft.length<1||this.arrowRight.length<1?this.settings.directionNav=!1:this.settings.directionNavAutoHide&&(this.arrowLeft.hide(),this.arrowRight.hide(),this.carouselRoot.one("mousemove.arrowshover",function(){r.arrowLeft.fadeIn("fast"),r.arrowRight.fadeIn("fast")}),this.carouselRoot.hover(function(){r.arrowLeft.fadeIn("fast"),r.arrowRight.fadeIn("fast")},function(){r.arrowLeft.fadeOut("fast"),r.arrowRight.fadeOut("fast")})),this._by3(0),this.settings.directionNav&&(this.arrowRight.click(function(e){e.preventDefault(),(r.settings.loopItems&&!r._gt1||!r._ev2)&&r.next()}),this.arrowLeft.click(function(e){e.preventDefault(),(r.settings.loopItems&&!r._gt1||!r._dw2)&&r.prev()}))),this.carouselWidth,this._cx3="onorientationchange"in window?"orientationchange.touchcarousel":"resize.touchcarousel";var d;e(window).bind(this._cx3,function(){d&&clearTimeout(d),d=setTimeout(function(){r.updateCarouselSize(!1)},100)}),this.settings.scrollbar?(this._dw3=e("<div class='scrollbar-holder'><div class='scrollbar"+(this.settings.scrollbarTheme.toLowerCase()==="light"?" light":" dark")+"'></div></div>"),this._dw3.appendTo(this.carouselRoot),this.scrollbarJQ=this._dw3.find(".scrollbar"),this._ev3="",this._fu3=this.scrollbarJQ[0].style,this._gt3=0,this.settings.scrollbarAutoHide?(this._hs3=!1,this.scrollbarJQ.css("opacity",0)):this._hs3=!0):this.settings.scrollbarAutoHide=!1,this.updateCarouselSize(!0),this._az1.bind(this._cx,function(e){r._ir3(e)}),this.settings.autoplay&&this.settings.autoplayDelay>0?(this._jq3=!1,this.autoplayTimer="",this.wasAutoplayRunning=!0,this.hasTouch||this.carouselRoot.hover(function(){r._jq3=!0,r._kp3()},function(){r._jq3=!1,r._lo3()}),this.autoplay=!0,this._mn3()):this.autoplay=!1,this.settings.keyboardNav&&e(document).bind("keydown.touchcarousel",function(e){r._gt1||(e.keyCode===37?r.prev():e.keyCode===39&&r.next())}),this.carouselRoot.css("overflow","visible")}t.prototype={goTo:function(e,t){var n=this.items[e];if(n){!t&&this.autoplay&&this.settings.autoplayStopAtAction&&this.stopAutoplay(),this._az4(e),this.endPos=this._by4();var r=-n.posX;r>0?r=0:r<this.carouselWidth-this._gt2&&(r=this.carouselWidth-this._gt2),this.animateTo(r,this.settings.transitionSpeed,"easeInOutSine")}},next:function(e){var t=this._by4(),n=this._cx4(t).index;if(!this._ir2)n+=this._hs2,this.settings.loopItems&&t<=this.carouselWidth-this._gt2&&(n=0),n>this.numItems-1&&(n=this.numItems-1);else{var r=this._kp2+1;r>this._jq2-1?this.settings.loopItems?n=0:n=(this._jq2-1)*this._hs2:n=r*this._hs2}this.goTo(n,e)},prev:function(e){var t=this._by4(),n=this._cx4(t).index;if(!this._ir2)n-=this._hs2,n<0&&(this.settings.loopItems?t<0?n=0:n=this.numItems-1:n=0);else{var r=this._kp2-1;r<0?this.settings.loopItems?n=(this._jq2-1)*this._hs2:n=0:n=r*this._hs2}this.goTo(n,e)},getCurrentId:function(){var e=this._cx4(this._by4()).index;return e},setXPos:function(e,t){t?this._fu3[this._az2]=this._by2+e+this._cx2:this._loStyle[this._az2]=this._by2+e+this._cx2},stopAutoplay:function(){this._kp3(),this.autoplay=!1,this.wasAutoplayRunning=!1},resumeAutoplay:function(){this.autoplay=!0,this.wasAutoplayRunning||this._lo3()},updateCarouselSize:function(e){var t=this;this.carouselWidth=this.carouselRoot.width();if(this.settings.scrollToLast){var n=0;if(this._ir2){var r=this.numItems%this._hs2;if(r>0)for(var i=this.numItems-r;i<this.numItems;i++)n+=this.items[i].width;else n=this.carouselWidth}else n=this.items[this.numItems-1].width;this._gt2=this._fu+this.carouselWidth-n}else this._gt2=this._fu;if(this.settings.scrollbar){var s=Math.round(this._dw3.width()/(this._gt2/this.carouselWidth));this.scrollbarJQ.css("width",s),this._gt3=this._dw3.width()-s}if(!this.settings.scrollToLast){if(this.carouselWidth>=this._fu){this._hs1=!0,this.settings.loopItems||(this._ev2=!0,this.arrowRight.addClass("disabled"),this._dw2=!0,this.arrowLeft.addClass("disabled")),this.setXPos(0);return}this._hs1&&(this._hs1=!1,this._ev2=!1,this._dw2=!1,this.arrowRight.removeClass("disabled"),this.arrowLeft.removeClass("disabled"))}if(!e){var o=this.endPos=this._by4();o>0?o=0:o<this.carouselWidth-this._gt2&&(o=this.carouselWidth-this._gt2),this.animateTo(o,300,"easeInOutSine")}},animateTo:function(t,n,r,i,s,o,u){function b(){a._by=!1,a._mn3(),a.settings.scrollbarAutoHide&&a._fu4(),a.settings.onAnimComplete!==null&&a.settings.onAnimComplete.call(a)}this.settings.onAnimStart!==null&&this.settings.onAnimStart.call(this),this.autoplay&&this.autoplayTimer&&(this.wasAutoplayRunning=!0,this._kp3()),this._dw4();var a=this,f=this.settings.scrollbar,l=a._az2,c=a._by2,h=a._cx2,p={containerPos:this.endPos},d={containerPos:t},v={containerPos:s},s=i?s:t,m=a._loStyle;a._by=!0;if(f){var g=this._fu3,y=a._gt2-a.carouselWidth;this.settings.scrollbarAutoHide&&(this._hs3||this._ev4())}this._by3(s),this._by1=e(p).animate(d,{duration:n,easing:r,step:function(){f&&(g[l]=c+Math.round(a._gt3*(-this.containerPos/y))+h),m[l]=c+Math.round(this.containerPos)+h},complete:function(){i?a._by1=e(d).animate(v,{duration:o,easing:u,step:function(){f&&(g[l]=c+Math.round(a._gt3*(-this.containerPos/y))+h),m[l]=c+Math.round(this.containerPos)+h},complete:function(){f&&(g[l]=c+Math.round(a._gt3*(-v.containerPos/y))+h),m[l]=c+Math.round(v.containerPos)+h,b()}}):(f&&(g[l]=c+Math.round(a._gt3*(-d.containerPos/y))+h),m[l]=c+Math.round(d.containerPos)+h,b())}})},destroy:function(){this.stopAutoplay(),this._az1.unbind(this._cx),e(document).unbind(this._dw).unbind(this._ev),e(window).unbind(this._cx3),this.settings.keyboardNav&&e(document).unbind("keydown.touchcarousel"),this.carouselRoot.remove()},_az4:function(e){if(this._ir2){var t=this._gt4(e);this._kp2=t,this.settings.pagingNavControls&&(this._mn2.removeClass("current"),this._mn2.eq(t).addClass("current"))}},_gt4:function(e){var t=this._hs2;for(var n=0;n<this._jq2;n++)if(e>=n*t&&e<n*t+t)return n;return e<0?0:e>=this._jq2?this._jq2-1:!1},_hs4:function(){this.settings.loopItems||(this._dw2?(this._dw2=!1,this.arrowLeft.removeClass("disabled")):this._ev2&&(this._ev2=!1,this.arrowRight.removeClass("disabled")))},_az3:function(){!this._dw2&&!this.settings.loopItems&&(this._dw2=!0,this.arrowLeft.addClass("disabled"),this._ev2&&(this._ev2=!1,this.arrowRight.removeClass("disabled")))},_ir4:function(){!this._ev2&&!this.settings.loopItems&&(this._ev2=!0,this.arrowRight.addClass("disabled"),this._dw2&&(this._dw2=!1,this.arrowLeft.removeClass("disabled")))},_cx4:function(e){var t=this;e=-e;var n;for(var r=0;r<t.numItems;r++){n=t.items[r];if(e>=n.posX&&e<n.posX+n.width)return n}return-1},_mn3:function(){this.autoplay&&this.wasAutoplayRunning&&(this._jq3||this._lo3(),this.wasAutoplayRunning=!1)},_fu4:function(){var e=this;this._hs3=!1,this._ev3&&clearTimeout(this._ev3),this._ev3=setTimeout(function(){e.scrollbarJQ.animate({opacity:0},150,"linear")},450)},_ev4:function(){this._hs3=!0,this._ev3&&clearTimeout(this._ev3),this.scrollbarJQ.stop().animate({opacity:1},150,"linear")},_dw4:function(){this._by1&&this._by1.stop()},_lo3:function(){if(this.autoplay){var e=this;this.autoplayTimer||(this.autoplayTimer=setInterval(function(){!e._jq4&&!e._by&&e.next(!0)},this.settings.autoplayDelay))}},_kp3:function(){this.autoplayTimer&&(clearInterval(this.autoplayTimer),this.autoplayTimer="")},_by4:function(e){var t=e?this.scrollbarJQ:this._lo;if(!this._ir1)return Math.round(t.position().left);var n=t.css("-webkit-transform"),r=n.replace(/^matrix\(/i,"").split(/, |\)$/g);return parseInt(r[4],10)},_ir3:function(t){if(!this._jq4){this.autoplay&&this.settings.autoplayStopAtAction&&this.stopAutoplay(),this._dw4(),this.settings.scrollbarAutoHide&&this._ev4();var n;if(this.hasTouch){this._az=!1;var r=t.originalEvent.touches;if(!(r&&r.length>0))return!1;n=r[0]}else n=t,t.preventDefault();this._kp4(),this._jq4=!0;var i=this;this._ir1&&i._lo.css({"-webkit-transition-duration":"0","-webkit-transition-property":"none"}),e(document).bind(this._dw,function(e){i._lo4(e)}),e(document).bind(this._ev,function(e){i._mn4(e)}),this._az5=this._by4(),this._ir=n.clientX,this._cx1=!1,this._kp=t.timeStamp||Date.now(),this._fu1=0,this._ev1=this._dw1=n.clientX,this._by5=n.clientY}},_lo4:function(e){var t=e.timeStamp||Date.now(),n;if(this.hasTouch){if(this._az)return!1;var r=e.originalEvent.touches;if(r.length>1)return!1;n=r[0];if(Math.abs(n.clientY-this._by5)>Math.abs(n.clientX-this._dw1)+3)return this.settings.lockAxis&&(this._az=!0),!1;e.preventDefault()}else n=e,e.preventDefault();this._jq=n.clientX,this._cx5=this._dw5;var i=n.clientX-this._ev1;this._cx5!=i&&(this._dw5=i);if(i!=0){var s=this._az5+this._fu1;s>=0?(i/=4,this._az3()):s<=this.carouselWidth-this._gt2?(this._ir4(),i/=4):this._hs4(),this._fu1+=i,this.setXPos(s),this.settings.scrollbar&&this.setXPos(this._gt3*(-s/(this._gt2-this.carouselWidth)),!0)}return this._ev1=n.clientX,t-this._kp>350&&(this._kp=t,this._ir=n.clientX),this.settings.onDragStart!==null&&this.settings.onDragStart.call(this),!1},_mn4:function(t){if(this._jq4){var n=this;this._jq4=!1,this._mn1(),this.endPos=this._by4(),this.isdrag=!1,e(document).unbind(this._dw).unbind(this._ev);if(this.endPos==this._az5){this._cx1=!1,this.settings.scrollbarAutoHide&&this._fu4();return}this._cx1=!0;var r=this._jq-this._ir,i=Math.max(40,(t.timeStamp||Date.now())-this._kp),s=.5,o=2,u=Math.abs(r)/i;function a(e){return e>0?e=0:e<n.carouselWidth-n._gt2&&(e=n.carouselWidth-n._gt2),e}if(!this.settings.snapToItems){var f=0;u<=2?(s=this._jq1*3.5,f=0):u>2&&u<=3?(s=this._jq1*4,f=200):u>3&&(f=300,u>4&&(u=4,f=400,s=this._jq1*6),s=this._jq1*5);var l=u*u*o/(2*s);l*=r<0?-1:1;var c=u*o/s+f;this.endPos+l>0?this.endPos>0?this.animateTo(0,800,"easeOutCubic"):this.animateTo(this.carouselWidth/10*((f+200)/1e3),Math.abs(this.endPos)*1.1/u,"easeOutSine",!0,0,400,"easeOutCubic"):this.endPos+l<this.carouselWidth-this._gt2?this.endPos<this.carouselWidth-this._gt2?this.animateTo(this.carouselWidth-this._gt2,800,"easeOutCubic"):this.animateTo(this.carouselWidth-this._gt2-this.carouselWidth/10*((f+200)/1e3),Math.abs(this.carouselWidth-this._gt2-this.endPos)*1.1/u,"easeOutSine",!0,this.carouselWidth-this._gt2,400,"easeOutCubic"):this.animateTo(this.endPos+l,c,"easeOutCubic")}else{this.autoplay&&this.settings.autoplayStopAtAction&&this.stopAutoplay();var h=Boolean(this._dw1-this._ev1>0),p=a(this._by4()),d=this._cx4(p).index;if(!this._ir2)d+=h?this._hs2:-this._hs2+1;else{h&&(p=Math.max(p-this.carouselWidth-1,1-n._gt2),d=this._cx4(p).index,d===undefined&&(d=this.numItems-1));var v=this._gt4(d);d=v*this._hs2}h?d=Math.min(d,this.numItems-1):d=Math.max(d,0);var m=this.items[d];this._az4(d);if(m){p=a(-m.posX);var g=Math.abs(this.endPos-p),y=Math.max(g*1.08/u,150),b=Boolean(y<180),w=g*.08;h&&(w*=-1),this.animateTo(b?p+w:p,Math.min(y,400),"easeOutSine",b,p,300,"easeOutCubic")}}this.settings.onDragRelease!==null&&this.settings.onDragRelease.call(this)}return!1},_by3:function(e){e===undefined&&(e=this._by4()),this.settings.loopItems||(e>=0?this._az3():e<=this.carouselWidth-this._gt2?this._ir4():this._hs4())},_mn1:function(){this._kp1?this._az1.css("cursor",this._kp1):(this._az1.removeClass("grabbing-cursor"),this._az1.addClass("grab-cursor"))},_kp4:function(){this._lo1?this._az1.css("cursor",this._lo1):(this._az1.removeClass("grab-cursor"),this._az1.addClass("grabbing-cursor"))}},e.fn.touchCarousel=function(n){return this.each(function(){var r=new t(e(this),n);e(this).data("touchCarousel",r)})},e.fn.touchCarousel.defaults={itemsPerMove:1,snapToItems:!1,pagingNav:!1,pagingNavControls:!0,autoplay:!1,autoplayDelay:3e3,autoplayStopAtAction:!0,scrollbar:!0,scrollbarAutoHide:!1,scrollbarTheme:"dark",transitionSpeed:600,directionNav:!0,directionNavAutoHide:!1,loopItems:!1,keyboardNav:!1,dragUsingMouse:!0,scrollToLast:!1,itemFallbackWidth:500,baseMouseFriction:.0012,baseTouchFriction:8e-4,lockAxis:!0,useWebkit3d:!1,onAnimStart:null,onAnimComplete:null,onDragStart:null,onDragRelease:null},e.fn.touchCarousel.settings={},e.extend(jQuery.easing,{easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n}})}(jQuery),function(){}.call(this),function(){}.call(this),vals=[],$(document).ready(function(){var e=$(".search"),t=$(".searchicon"),n=$(".search").val(),r="";e.focus(function(){var e=$(this).val();$(this).val(e==n?r:e)}),e.focusout(function(){var e=$(this).val();$(this).val(e==r?n:e)}),t.click(function(){e.focus()}),$(".sm").hover(function(){$(".sm").each(function(){$(this).parent().parent().children("ul").css("display","none")}),$(this).parent().parent().children("ul").css("display","block"),$(this).parent().parent().children("ul").css("z-index","999999")},function(){}),$(".sm").each(function(){$(this).parent().parent().children("ul").children("li").children("a").css("width",$(this).width()+30),$(this).parent().parent().children("ul").children("li").children("a").last().css("border-bottom","10px solid #80abc3")}),$(".top").hover(function(){$(".sm").each(function(){$(this).parent().parent().children("ul").css("display","none"),$(this).parent().parent().children("ul").css("z-index","0")})},function(){}),$(".slider").hover(function(){$(".sm").each(function(){$(this).parent().parent().children("ul").css("display","none"),$(this).parent().parent().children("ul").css("z-index","0")})},function(){}),$(".slider").smSlider({start:0,transition:"animate",activeClass:"active",autoArr:!0,prev:"sm_prev",next:"sm_next",pagination:!1,typeCtrl:"dots",subMenu:!1,subMenuClass:"sm_submenu-item",duration:1e3,autoPlay:!0,delay:8e3,subMenu:!0,subMenuClass:"more-item",hoverPause:!1,easing:"swing",animationStart:function(e){},animationComplete:function(e){}}),carouselInstance=$("#carousel-gallery").touchCarousel({itemsPerMove:4,scrollbar:!0,scrollbarAutoHide:!0,scrollbarTheme:"dark",pagingNav:!0,snapToItems:!1,scrollToLast:!0,useWebkit3d:!0,loopItems:!0}).data("touchCarousel"),$(".touchcarousel-container").width("99999px");var r="";$(".form,.subscribe").each(function(e,t){var n=$(this);vals[e]=n.val(),n.focus(function(){var t=$(this).val();$(this).val(t==vals[e]?r:t)}),n.focusout(function(){var t=$(this).val();$(this).val(t==r?vals[e]:t)})}),$(".send").click(function(){var e=!1;return $(".form").each(function(t,n){if($(this).val()==vals[t]||$(this).val()==""){e=!0;return}}),e?jError($(".formError").html(),{autoHide:!0,TimeShown:3e3,HorizontalPosition:"center",VerticalPosition:"center"}):$.ajax({type:"get",url:"/mail",data:"name="+$(".fio").val()+"&email="+$(".phone").val()+"&message="+$(".message").val(),success:function(e){jNotify($(".formSuccess").html(),{autoHide:!0,TimeShown:3e3,HorizontalPosition:"center",VerticalPosition:"center"}),$(".form").each(function(e,t){$(this).val(vals[e])})}}),!1}),$(".subscribe").keypress(function(e){if(e.which==13)return $(this).val()==""?jError("Не введен адрес",{autoHide:!0,TimeShown:3e3,HorizontalPosition:"center",VerticalPosition:"center"}):$.ajax({type:"get",url:"/subscribe",data:"email="+$(this).val(),success:function(e){jNotify("Подписка оформлена. Большое спасибо за внимание.",{autoHide:!0,TimeShown:3e3,HorizontalPosition:"center",VerticalPosition:"center"}),$(".subscribe").val(vals[vals.length-1])}}),!1})});